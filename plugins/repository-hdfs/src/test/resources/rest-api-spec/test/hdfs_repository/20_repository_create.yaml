# Integration tests for HDFS Repository plugin
#
# Tests creating a repository
#
"HDFS Repository Config":
    - do:
        snapshot.create_repository:
          repository: test_repo_hdfs_1
          body:
            type: hdfs
            settings:
              uri: "hdfs://localhost:9999"
              path: "foo/bar"

    # Get repository
    - do:
        snapshot.get_repository:
          repository: test_repo_hdfs_1

    - is_true: test_repo_hdfs_1
    - match: {test_repo_hdfs_1.settings.path : "foo/bar"}
