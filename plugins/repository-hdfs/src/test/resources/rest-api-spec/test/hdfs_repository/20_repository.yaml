# Integration tests for HDFS Repository plugin
#
# Check plugin is installed
#
"HDFS Repository Config":
    - do:
        snapshot.create_repository:
          repository: test_repo_hdfs_1
          verify: false
          body:
            type: hdfs
            settings:
              uri: "hdfs://localhost:8888"
              path: "foo/bar"

    # Get repositry
    - do:
        snapshot.get_repository:
          repository: test_repo_hdfs_1

    - is_true: test_repo_hdfs_1
    - match: {test_repo_hdfs_1.settings.path : "foo/bar"}
